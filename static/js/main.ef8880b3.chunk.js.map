{"version":3,"sources":["Components/Header/Header.module.css","Components/Login/Login.module.css","Components/Posts/Post/Post.module.css","App.module.css","Components/Main/Main.module.css","Components/Profile/Profile.module.css","Components/Posts/Posts.module.css","Components/Footer/Footer.module.css","Components/Main/Video.js","Components/Main/Player.js","Components/Main/Main.jsx","Components/Profile/Profile.jsx","Components/Posts/Post/PostElement.jsx","DAL/storage.js","DAL/api_posts-request.js","BLL/postsReducer.js","Components/Posts/Posts.jsx","DAL/api_auth-request.js","BLL/authenticationReducer.js","Components/Login/Login.jsx","Components/Header/Header.jsx","Components/Footer/Footer.jsx","App.js","serviceWorker.js","BLL/redux.js","index.js"],"names":["module","exports","Video","style","width","height","ref","this","props","refer","src","Component","Player","play","video","current","React","createRef","onClick","Main","className","styles","wrapper","connect","state","isAuthentication","authentication","to","PostElement","title","content","storage","data","Promise","resolve","localStorage","setItem","getItem","axiosInstance","axios","create","baseURL","interceptors","request","use","headers","token","apiPosts","currentPage","get","then","response","NEXT_PAGE","LOADING","initialState","posts","postsPage","isLoading","postsReducer","action","type","loading","nextPage","Posts","onScroll","e","div","currentTarget","offsetHeight","Math","ceil","scrollTop","scrollHeight","getPosts","map","p","key","id","random","body","position","overflowY","page","dispatch","getState","mountPosts","apiAuthentication","login","password","result","username","authenticationError","authenticationReducer","setAuthentication","setUserName","authenticationFalse","Login","onLoginChanged","falseAuthentication","setState","value","onPasswordChanged","onSubmit","forms","form","placeholder","onChange","button","logout","console","log","header","linkWrapper","block","Footer","footer","App","checkAuthorization","app","path","component","Boolean","window","location","hostname","match","reducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ef8880b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3y_YB\",\"title\":\"Header_title__2RHMX\",\"linkWrapper\":\"Header_linkWrapper__17FaT\",\"block\":\"Header_block__2G6o8\",\"login\":\"Header_login__1P7N6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2CuEe\",\"forms\":\"Login_forms__1TuYR\",\"form\":\"Login_form__3O7bN\",\"button\":\"Login_button__166ZS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Post_wrapper__3wXfg\",\"title\":\"Post_title__T1_V6\",\"content\":\"Post_content__4L5F1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3DjjN\",\"wrapper\":\"App_wrapper__1ApzO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Main_wrapper__2ImUd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__1s84i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Posts_wrapper__3jfxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__zdS_v\"};","import React, {Component} from 'react';\r\n\r\nclass Video extends Component {\r\n    render() {\r\n        return (\r\n            <video style={{width: '200px', height: '200px'}} ref={this.props.refer} >\r\n                <source src=\"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\" />\r\n            </video>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Video\r\n","import React, {Component} from 'react';\r\nimport Video from \"./Video\"\r\n\r\nclass Player extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.video = React.createRef();\r\n    }\r\n\r\n    play = () => {\r\n        this.video.current.play();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Video refer={this.video}/>\r\n            <button onClick={this.play}>Play</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Player\r\n","import React from 'react';\r\nimport styles from './Main.module.css';\r\nimport Player from \"./Player\"\r\n\r\nconst Main = (props) => {\r\n    return (\r\n        <section className={styles.wrapper}>\r\n            <h1>\r\n                ЗАГОЛОВОК\r\n            </h1>\r\n            <p>\r\n                Здесь находится главная страница.\r\n            </p>\r\n            <Player/>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Profile = (props) => {\r\n    if (props.isAuthentication) {\r\n        return (\r\n            <section className={styles.wrapper}>\r\n                <b>Профиль</b>\r\n                <p>\r\n                    Здесь находится страница профиля.\r\n                </p>\r\n            </section>\r\n        )\r\n    } else {\r\n        return <Redirect to={\"/login\"}/>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuthentication: state.authentication.isAuthentication\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Profile);\r\n","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst PostElement = (props) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.title}>\r\n                <h3>{props.title}</h3>\r\n            </div>\r\n            <div className={styles.content}>\r\n                <p>{props.content}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default PostElement;\r\n","export const storage = {\r\n    saveToken(data) {\r\n        return Promise.resolve(\r\n            localStorage.setItem('token', data)\r\n        )\r\n    },\r\n    loadToken() {\r\n        return Promise.resolve(\r\n            localStorage.getItem('token')\r\n        )\r\n    }\r\n};\r\n","import axios from \"axios\";\r\nimport {storage} from \"./storage\";\r\n\r\nconst axiosInstance = axios.create(\r\n    {\r\n        baseURL: 'https://jsonplaceholder.typicode.com/'\r\n    }\r\n);\r\n\r\naxiosInstance.interceptors.request.use(request => {\r\n    request.headers.token = storage.loadToken();\r\n    // всё ли здесь верно, ведь LoadToken возвращает нам\r\n    return request;\r\n});\r\n\r\nexport const apiPosts = {\r\n    getPosts(currentPage = null) {\r\n        return axiosInstance.get(`posts?_page=${currentPage}`,)\r\n            .then(response => response.data)\r\n    }\r\n};\r\n","import {apiPosts} from \"../DAL/api_posts-request\";\r\n\r\nexport const MOUNT_POSTS = 'TEST-APP/MOUNT-POSTS';\r\nexport const NEXT_PAGE = 'TEST-APP/NEXT_PAGE';\r\nexport const LOADING = 'TEST-APP/LOADING';\r\n\r\n\r\nconst initialState = {\r\n    posts: [\r\n        // {\r\n        //     userId: 1,\r\n        //     id: 1,\r\n        //     title: 'Оу, это первый пост',\r\n        //     body: 'Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! ' +\r\n        //         'Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone! ' +\r\n        //         'Hey, everyone!'\r\n        // }, {\r\n        //     userId: 2,\r\n        //     id: 2,\r\n        //     title: 'Second title',\r\n        //     body: 'Hey, everyone! Hey, everyone! Hey, everyone! Hey, everyone!'\r\n        // },\r\n    ],\r\n    postsPage: 1,\r\n    isLoading: false\r\n};\r\n\r\nconst postsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case MOUNT_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, ...action.posts],\r\n            };\r\n        case NEXT_PAGE:\r\n            return {\r\n                ...state,\r\n                postsPage: (state.postsPage + 1),\r\n            };\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.loading,\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default postsReducer;\r\n\r\nconst mountPosts = (posts) => (\r\n    {type: MOUNT_POSTS, posts}\r\n);\r\n\r\nexport const nextPage = () => {\r\n    return (\r\n        {type: NEXT_PAGE}\r\n    )\r\n};\r\n\r\nconst loading = (loading) => ({type: LOADING, loading});\r\n\r\nexport const getPosts = (page) => (dispatch, getState) => {\r\n    if (!getState().posts.isLoading) {\r\n        dispatch(loading(true));\r\n        apiPosts.getPosts(page)\r\n            .then((posts) => {\r\n                    dispatch(mountPosts(posts));\r\n                    dispatch(nextPage());\r\n                    dispatch(loading(false));\r\n                }\r\n            );\r\n    }\r\n};\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport styles from './Posts.module.css';\r\nimport PostElement from \"./Post/PostElement\";\r\nimport {connect} from \"react-redux\";\r\nimport {getPosts, nextPage} from \"../../BLL/postsReducer\";\r\n\r\nclass Posts extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getPosts(this.props.postsPage);\r\n        // this.props.nextPage();\r\n    }\r\n\r\n    onScroll = (e) => {\r\n        const div = e.currentTarget;\r\n        if ((div.offsetHeight + Math.ceil(div.scrollTop)) >= div.scrollHeight) {\r\n            this.props.getPosts(this.props.postsPage);\r\n            // div.scrollTop = div.scrollHeight;\r\n        }\r\n    };\r\n\r\n    render(props) {\r\n        let posts = this.props.posts.map((p) => <PostElement\r\n            key={p.id + Math.random()}\r\n            title={p.title}\r\n            content={p.body}\r\n        />);\r\n        return (\r\n            <section className={styles.wrapper}>\r\n                <div onScroll={this.onScroll}\r\n                     style={{position: 'absolute', height: '100%', overflowY: 'scroll', width: '100%'}}>\r\n                    {posts}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst\r\n    mapStateToProps = (state) => ({\r\n            posts: state.posts.posts,\r\n            postsPage: state.posts.postsPage\r\n        }\r\n    );\r\n\r\nexport default connect(mapStateToProps, {getPosts, nextPage})(Posts);\r\n","export const apiAuthentication = {\r\n    login(login, password) {\r\n        if (login === 'Admin' && password === '111111') {\r\n            return Promise.resolve(\r\n                {token: 'valid_token', result: 0, username: 'Admin'}\r\n            )\r\n        } else {\r\n            return Promise.resolve(\r\n                {result: 401, token: null, username: ''}\r\n            )\r\n        }\r\n    },\r\n    logout() {\r\n        return Promise.resolve(\r\n            {result: 0, token: null}\r\n        )\r\n    }\r\n};\r\n","import {apiAuthentication} from \"../DAL/api_auth-request\";\r\nimport {storage} from \"../DAL/storage\";\r\n\r\nexport const SET_AUTHENTICATION = 'TEST-APP/SET_AUTHENTICATION';\r\nexport const AUTHENTICATION_ERROR = 'TEST-APP/AUTHENTICATION_ERROR';\r\nexport const SET_USERNAME = 'TEST-APP/SET_USERNAME';\r\n\r\nconst initialState = {\r\n    isAuthentication: false,\r\n    authenticationError: false,\r\n    username: '',\r\n};\r\n\r\nconst authenticationReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTHENTICATION:\r\n            return {\r\n                ...state,\r\n                isAuthentication: action.isAuthentication,\r\n            };\r\n        case AUTHENTICATION_ERROR:\r\n            return {\r\n                ...state,\r\n                authenticationError: action.authenticationError,\r\n            };\r\n        case SET_USERNAME:\r\n            return {\r\n                ...state,\r\n                username: action.username,\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default authenticationReducer;\r\n\r\n// ACTION CREATORS:\r\nexport const setAuthentication = (isAuthentication) => (\r\n    {type: SET_AUTHENTICATION, isAuthentication}\r\n);\r\nexport const setUserName = (username) => (\r\n    {type: SET_USERNAME, username}\r\n);\r\n\r\nexport const authenticationFalse = (authenticationError) => (\r\n    {type: AUTHENTICATION_ERROR, authenticationError}\r\n);\r\n\r\n// THUNK CREATORS:\r\nexport const login = (username, password) => (dispatch) => {\r\n    // const loginResponse =\r\n    apiAuthentication.login(username, password)\r\n        .then((response) => {\r\n                if (response.result === 0) {\r\n                    storage.saveToken(response.token);\r\n                    dispatch(setAuthentication(true));\r\n                    dispatch(setUserName(response.username));\r\n                    return response;\r\n                } else {\r\n                    dispatch(authenticationFalse(true));\r\n                    return response\r\n                }\r\n            }\r\n        )\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n    apiAuthentication.logout()\r\n        .then(response => {\r\n                if (response.result === 0) {\r\n                    storage.saveToken(response.token)\r\n                        .then(() => {\r\n                                dispatch(setAuthentication(false));\r\n                                dispatch(setUserName(''));\r\n                                return response\r\n                            }\r\n                        )\r\n                } else {\r\n                    console.log('Logout Error')\r\n                }\r\n            }\r\n        );\r\n};\r\n\r\nexport const checkAuthorization = () => (dispatch) => {\r\n    storage.loadToken()\r\n        .then((token) => {\r\n            if (token !== 'null') {\r\n                // js преобразует null в строку 'null' , как этого избежать?\r\n                dispatch(setAuthentication(true));\r\n                // как определить имя пользователя по токену?\r\n                dispatch(setUserName('Admin'));\r\n            } else {\r\n                dispatch(setAuthentication(false));\r\n                dispatch(setUserName(''));\r\n            }\r\n        })\r\n};\r\n\r\n","import React from 'react';\r\nimport styles from './Login.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {authenticationFalse, login} from \"../../BLL/authenticationReducer\";\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        login: '',\r\n        password: '',\r\n    };\r\n\r\n    onLoginChanged = (e) => {\r\n        // зачищаю ошибку, может есть лучшее решение\r\n        this.props.falseAuthentication(false);\r\n        this.setState({\r\n            login: e.currentTarget.value\r\n        });\r\n    };\r\n\r\n    onPasswordChanged = (e) => {\r\n        // зачищаю ошибку, может есть лучшее решение\r\n        this.props.falseAuthentication(false);\r\n        this.setState({\r\n            password: e.currentTarget.value\r\n        });\r\n    };\r\n\r\n    onSubmit = () => {\r\n        this.props.login(this.state.login, this.state.password);\r\n        this.setState({\r\n            login: '',\r\n            password: ''\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.props.isAuthentication) {\r\n            return <Redirect to={\"/profile\"}/>\r\n        } else {\r\n            return <div className={styles.wrapper}>\r\n                <h2>Форма входа</h2>\r\n                <div className={styles.forms}>\r\n                    <div className={styles.form}>\r\n                        <span>Логин: </span>\r\n                        <input type={\"login\"} placeholder={'Имя пользователя'}\r\n                               value={this.state.login}\r\n                               onChange={this.onLoginChanged}/>\r\n                    </div>\r\n                    <div className={styles.form}>\r\n                        <span>Пароль: </span>\r\n                        <input type={\"password\"} placeholder={'Пароль'}\r\n                               value={this.state.password}\r\n                               onChange={this.onPasswordChanged}/>\r\n                    </div>\r\n                    {this.props.authenticationError && <mark>Имя пользователя или пароль введены не верно.</mark>}\r\n                    <button className={styles.button} onClick={this.onSubmit}>Войти</button>\r\n                </div>\r\n            </div>\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuthentication: state.authentication.isAuthentication,\r\n    authenticationError: state.authentication.authenticationError,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    login, falseAuthentication: authenticationFalse\r\n})(Login);\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../BLL/authenticationReducer\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <span className={styles.title}> Test APP </span>\r\n            <ul className={styles.linkWrapper}>\r\n                <li className={styles.block}>\r\n                    <NavLink to='/ '>Главная</NavLink>\r\n                </li>\r\n                <li className={styles.block}>\r\n                    <NavLink to=\"/posts\">Новости</NavLink>\r\n                </li>\r\n                <li className={styles.block}>\r\n                    <NavLink to=\"/profile\">Профиль</NavLink>\r\n                </li>\r\n            </ul>\r\n            <span className={styles.login}>\r\n               <span>{props.username}</span>\r\n                {props.isAuthentication && <button className={styles.button} onClick={props.logout}>X</button>}\r\n            </span>\r\n        </header>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    username: state.authentication.username,\r\n    isAuthentication: state.authentication.isAuthentication\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(Header);\r\n","import React from 'react';\r\nimport styles from './Footer.module.css';\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <header className={styles.footer}>\r\n            <footer>\r\n                (c)\r\n            </footer>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\nimport styles from './App.module.css';\nimport {Redirect, Route} from \"react-router-dom\";\nimport Main from \"./Components/Main/Main\";\nimport Profile from \"./Components/Profile/Profile\";\nimport Posts from \"./Components/Posts/Posts\";\nimport Login from \"./Components/Login/Login\";\nimport Header from \"./Components/Header/Header\";\nimport Footer from \"./Components/Footer/Footer\";\nimport {connect} from \"react-redux\";\nimport {checkAuthorization} from \"./BLL/authenticationReducer\";\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.checkAuthorization()\n    };\n\n    render(props) {\n        return (\n            <div className={styles.app}>\n                <Header/>\n                <div className={styles.wrapper}>\n                    <Route path={'/ '} component={() => <Main/>}/>\n                    <Route path={'/posts'} component={() => <Posts/>}/>\n                    <Route path={'/profile'} component={() => <Profile/>}/>\n                    <Route path={'/login'} component={() => <Login/>}/>\n                </div>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nexport default connect(null, {checkAuthorization})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport authenticationReducer from \"./authenticationReducer\";\r\nimport postsReducer from \"./postsReducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst reducers = combineReducers({\r\n    authentication: authenticationReducer,\r\n    posts: postsReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport store from \"./BLL/redux\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(<HashRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n        <App/>\n    </Provider>\n</HashRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}